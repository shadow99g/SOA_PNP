<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>PNP - SOA</title>

        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <link href="Css/css/bootstrap.min.css" rel="stylesheet"/>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous"/>

        <meta charset="utf-8"></meta>
    </h:head>
    <style>

        body { background-color: #E0F8F7 ; }
    </style>

    <h:body>
        
        <dir class="container">
            <h2 class="text-center">Lista de Resoluciones</h2>
        </dir>
        <br/>
        <form id="form1" class="form-inline">
            <br/>   
            <p:dataTable id="tbl" var="inf" value="#{controllerInfrac.lista}"
                         class="table table-striped table-dark"
                         scrollable="true" scrollHeight="350" rows="15" paginator="true">

                <p:column style="width:16px" class="table-warning">
                    <p:rowToggler/>
                </p:column>
                <p:column headerText="ID" class="table-warning" >
                    <h:outputText value="#{inf.id}" />
                    
                </p:column>
                <p:column headerText="Nombre" class="table-warning" >
                    <h:outputText value="#{inf.nombre}" />
                </p:column>

                <p:column headerText="Apellido" class="table-warning" >
                    <h:outputText value="#{inf.apellido}" />
                </p:column>
                <p:column  headerText="Documento" class="table-warning">
                    <center>
                        <a class="btn btn-info" href="pdf/#{inf.rj}.pdf" target="_blank">#{inf.rj}</a>
                    </center>
                </p:column>
                
<p:rowExpansion>
            <p:panelGrid  columns="4">
                
                    <h:outputText value="Apoderado :" />
                    <h:outputText value="#{inf.nombre}" />
                    <h:outputText value="#{inf.apellido}" />
                
                    <p:link  class="btn btn-warning" outcome="prueba.php" target="_blank" value="Ruta">
                        <f:param name="lt" value="#{inf.lat}" />
                        <f:param name="ln" value="#{inf.lon}" />
                    </p:link>                
            </p:panelGrid>
        </p:rowExpansion>
            </p:dataTable>
        </form>
        <br/>
    </h:body>
</html>

